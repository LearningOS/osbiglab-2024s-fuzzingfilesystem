# 第 13 周

## 本周进展

1. 开发：

   * 删除文件：
     * 在父目录下删除对应的目录项。
     * 修改文件索引节点的硬链接数。
     * 当硬链接数为 0 时，删除文件：回收分配的数据块、回收索引节点、修改位图、修改 `SuperBlock` 和 `BlockGroupDesc` 中的计数值等。
   * 删除目录：支持对目录的递归删除。
2. 重构：

   * 重构了重要结构的读写部分，将所有主要的读写方法组织到 `ext4::rw` 模块中。
3. 修复：

   * 修复了 extent tree 节点分裂时高度更新错误的 bug。

## 下周计划

1. 仿照 `lwext4_rust` 的方法，将 `ext4_rs` 接入 Starry（或更简单一些，如 rcore-tutorial ？）。

2. 进一步实现  `softlink`、`setattr` 等功能。
